<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Activar Buttons</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .department-btn { 
            margin: 5px; 
            padding: 10px 15px; 
            border: 2px solid #ccc; 
            background: white;
            cursor: pointer;
            border-radius: 5px;
        }
        .department-btn.selected { 
            background: #007bff; 
            color: white; 
            border-color: #007bff; 
        }
        .debug { 
            background: #f8f9fa; 
            padding: 15px; 
            margin: 20px 0; 
            border-radius: 5px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>Test Department Buttons</h1>
    
    <div id="departments"></div>
    
    <div class="debug">
        <h3>Selected Departments:</h3>
        <div id="selected-list"></div>
    </div>

    <script>
        const departamentos = [
            'Administración',
            'Ventas', 
            'Marketing',
            'Operaciones',
            'Producción',
            'Recursos Humanos',
            'Finanzas',
            'Tecnología',
            'Logística',
            'Servicio al Cliente'
        ];
        
        let selectedDepartments = [];
        
        function handleDepartmentClick(dept) {
            console.log('Department clicked:', dept);
            console.log('Current departments:', selectedDepartments);
            
            if (selectedDepartments.includes(dept)) {
                selectedDepartments = selectedDepartments.filter(d => d !== dept);
            } else {
                selectedDepartments.push(dept);
            }
            
            updateUI();
            console.log('Updated departments:', selectedDepartments);
        }
        
        function updateUI() {
            // Update button styles
            departamentos.forEach(dept => {
                const btn = document.getElementById(`btn-${dept.replace(/\s+/g, '-')}`);
                if (selectedDepartments.includes(dept)) {
                    btn.classList.add('selected');
                } else {
                    btn.classList.remove('selected');
                }
            });
            
            // Update selected list
            document.getElementById('selected-list').innerHTML = 
                selectedDepartments.length > 0 
                    ? selectedDepartments.join(', ')
                    : 'None selected';
        }
        
        // Create buttons
        const container = document.getElementById('departments');
        departamentos.forEach(dept => {
            const btn = document.createElement('button');
            btn.id = `btn-${dept.replace(/\s+/g, '-')}`;
            btn.className = 'department-btn';
            btn.textContent = dept;
            btn.onclick = () => handleDepartmentClick(dept);
            container.appendChild(btn);
        });
        
        updateUI();
    </script>
</body>
</html>
